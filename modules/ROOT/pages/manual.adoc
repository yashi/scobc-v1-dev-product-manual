== はじめに
本マニュアルは、SC-OBC Module V1 を搭載できる SC-OBC Module V1 Development Board の各種インタフェースに関する詳細を記述しております。 +
SC-OBC Module V1 Development Board は、SC-OBC Module V1 へ電源を入れ、機能を動作させ、評価を円滑に行うことを目的に設計されています。 +
SC-OBC Module V1 Development Board の仕様については、『SC-ESP-00107: テスト用IFボード仕様』を参照してください。

== 用語の定義
[width="100%",cols="1,3",options="header",]
|===
|用語 |説明
|OBC |SC-OBC Module V1 を示す。
|Dev Board |SC-OBC Module V1 Development Board を示す。
|Versal |OBC の Main Processor である AMD 社製の Versal AI Edge Series VE2302 を示す。
|Versal PMC MIO 0 |Versal PS の Bank 500 に属する Multiplexed I/O を示す。
|Versal PMC MIO 1 |Versal PS の Bank 501 に属する Multiplexed I/O を示す。
|Versal LPD MIO |Versal PS の Bank 502 に属する Multiplexed I/O を示す。
|Versal HDIO |Versal PL の Bank 302 に属する低速の I/O を示す。
|Versal XPIO |Versal PL の Bank 703 に属する高速の I/O を示す。
|IGLOO2 |OBC の Safety Processor である Microchip 社製の IGLOO2 FPGA を示す。
|IGLOO2 MSIO (Bank 5) |IGLOO2 の Bank 5 に属する低速または高速の Multi-Standard I/O を示す。 
|IGLOO2 MSIO (Bank 8) |IGLOO2 の Bank 8 に属する低速または高速の Multi-Standard I/O を示す。
|主電源 |OBC の場合は Dev Board から供給される +5V を示す。 +
Dev Board の場合は AC アダプターから供給される +12V を示す。
|FTDI IC |FTDI 社製 の Quad High-Speed USB to Multi-Purpose UART/MPSSE IC である FT4232H-56Q を示す。
|===

== インタフェース仕様
=== インタフェースレイアウト (CON, LED, SW)

image::Interface_Layout1.svg[Interface_Layout1.svg]

[width="100%",cols="1,3,3,1",options="header",]
|===
|部品番号 |インターフェース名称 |形状 |備考
|CON1 |OBC インタフェース |基板間コネクタ 400ピン (Terminal type / 1.27mm ピッチ) |挿抜寿命：1,000回
|CON2 |BPD 電源供給用インタフェース |ピンヘッダ 2ピン (2.54mm ピッチ) |
|CON3 |CON18 信号線観測用インタフェース |ピンヘッダ 5ピン (2.54mm ピッチ) |コネクタ非搭載
|CON4 |IGLOO2 FPGA JTAG インタフェース |シュラウド型ピンヘッダ 10ピン (5ピン x 2列 / 2.54mm ピッチ) |
|CON5 |IGLOO2 デバックインタフェース |ピンヘッダ 4ピン (2.54mm ピッチ) |
|CON6 |Versal / IGLOO2 デバックインタフェース |USB Type.C コネクタ |
|CON7 |Versal Reserve インタフェース |ピンヘッダ 4ピン (2.54mm ピッチ) |コネクタ非搭載
|CON8 |microSD カードインタフェース |microSD コネクタ |
|CON9 |USB2.0 インタフェース |USB Type.A コネクタ |
|CON10 |Gigabit Ethernet インタフェース |Gigabit Ethernet コネクタ |
|CON11 |FMC モジュール接続用インタフェース |基板間コネクタ 400ピン (Socket type / 1.27mm ピッチ) |
|CON12 |Versal MIO 拡張インタフェース |ピンヘッダ 20ピン (10ピン x 2列 / 2.54mm ピッチ) |
|CON13 |CON19 信号線観測用インタフェース |ピンヘッダ 3ピン (2.54mm ピッチ) |コネクタ非搭載
|CON14 |Versal HDIO 拡張インタフェース |ピンヘッダ 48ピン (24ピン x 2列 / 2.54mm ピッチ) |
|CON15 |IGLOO2 MSIO (Bank 5) 拡張インタフェース |ピンヘッダ 48ピン (24ピン x 2列 / 2.54mm ピッチ) |
|CON16 |Dev Board 主電源供給インタフェース |DCジャック |対応プラグ : 2.1mmΦ (センタープラス)
|CON17 |USER LED 制御インタフェース |ピンヘッダ 4ピン (2.54mm ピッチ) |
|CON18 |IGLOO2 RS422/485 インタフェース |端子台 5ピン (5.0mm ピッチ) |
|CON19 |CAN インタフェース |端子台3ピン (5.0mm ピッチ) |
|CON20 |Dev Board 主電源供給インタフェース |端子台2ピン (5.0mm ピッチ) |
|SW1 |Versal 起動モード制御スイッチ |DIPスイッチ (4ポジション) |
|SW2 |Versal POR 制御スイッチ |タクトスイッチ |工場出荷用途
|SW3 |IGLOO2 POR 制御スイッチ |タクトスイッチ |工場出荷用途
|SW4 |Dev Board 主電源切り替えスイッチ |スライドスイッチ (SPDT) |
|LED1 |Versal 起動状態インジケータ |LED (黄緑色) |
|LED2 |Versal エラー状態インジケータ |LED (赤色) |
|LED3 |1Gbps Ethernet リンク状態インジケータ |LED (黄緑色) |
|LED4 |FMC モジュール電源供給インジケータ |LED (黄緑色) |
|LED5 |Dev Board 主電源供給インジケータ |LED (黄緑色) |
|LED6~LED9 |USER LED |LED (黄緑色) |
|===

=== OBC インタフェース (CON1)
CON1 は OBC との接続インタフェースです。 +

搭載コネクタ：SEAM-40-02.0-S-10-1-A-K-TR (Samtec)

=== BPD 電源供給用インタフェース (CON2)
CON2 は Versal の Battery Power Domain (BPD) に対し、電源を供給することが可能なインタフェースです。 +
BPD は Real Time Clock (RTC) と Battery Backup RAM (BBRAM) を包括しています。 +
RTC と BBRAM は、通常は OBC 内で生成される電圧 (VCCAUX_PMC_SMON) により動作していますが、OBC の主電源が切断された場合、CON2 から供給される電圧で維持、または保持されます。

[width="100%",cols="1,1,1,1,2",options="header",]
|===
|ピン番号 |ピン名称 |I/O |電源グループ |説明
|1 |VCC_BATT_IN |Power |VCC_BATT_IN |電源 (VCC_BATT_IN)
|2 |GND |Power |VCC_BATT_IN |電源 (GND)
|===

=== CON18 信号線観測用インタフェース (CON3)
CON3 は CON18 に接続したデバイスとの通信信号をプローブで観測するためのインタフェースです。 +
CON3 のピンアサインは、下表のように CON18 と同じピンアサインとなっています。 +
信号線の詳細は CON18 の仕様を参照してください。

[width="50%",cols="1,1,1",options="header",]
|===
|CON3 +
ピン番号 |ピン名称 |CON18 +
ピン番号
|1 |RS422_TXP |1
|2 |RS422_TXM |2
|3 |RS422_RXP |3
|4 |RS422_RXM |4
|5 |GND |5
|===

=== IGLOO2 FPGA JTAG インタフェース (CON4)
CON4 は IGLOO2 の FPGA JTAG インタフェースです。 +
ピン配列は Microchip 社製の FPGA デバッカである FrashPro5 に対応しています。

- 奇数ピン列

[width="100%",cols="1,1,1,1,2",options="header",]
|===
|ピン番号 |ピン名称 |I/O |電源グループ |説明
|1 |M2GL_JTAG_TCK |Input |VDD_1V8_M2GL_B4 |IGLOO2 JTAG クロック
|3 |M2GL_JTAG_TDO |Output |VDD_1V8_M2GL_B4 |IGLOO2 JTAG データ出力
|5 |M2GL_JTAG_TMS |Input |VDD_1V8_M2GL_B4 |IGLOO2 JTAG データ選択
|7 |NC |- |VDD_1V8_M2GL_B4 |TP20に接続
|9 |M2GL_JTAG_TDI |Input |VDD_1V8_M2GL_B4 |IGLOO2 JTAG データ出力
|===

- 偶数ピン列

[width="100%",cols="1,1,1,1,2",options="header",]
|===
|ピン番号 |ピン名称 |I/O |電源グループ |説明
|2 |GND |Power |VDD_1V8_M2GL_B4 |電源 (GND)
|4 |NC |- |VDD_1V8_M2GL_B4 |TP21に接続
|6 |VDD_1V8_M2GL_B4 |Power |VDD_1V8_M2GL_B4 |電源 (VDD_1V8_M2GL_B4)
|8 |M2GL_JTAG_TRSTB |Input |VDD_1V8_M2GL_B4 |IGLOO2 JTAG リセット
|10 |GND |Power |VDD_1V8_M2GL_B4 |電源 (GND)
|===

=== IGLOO2 デバックインタフェース (CON5)
CON5 の Pin 2, 3 が IGLOO2 の UART に割り当てられており、Console として使用が可能です。 +
Pin 1, 4 は IGLOO2 の Reserve ピンです。

[width="100%",cols="1,1,1,1,2",options="header",]
|===
|ピン番号 |ピン名称 |I/O |電源グループ |説明
|1 |M2GL_RSVD0 |In/Out |VDD_1V8_M2GL_B4 |Reserve
|2 |M2GL_RSVD1 |Output |VDD_1V8_M2GL_B4 |IGLOO2 UART TXD
|3 |M2GL_RSVD2 |Input |VDD_1V8_M2GL_B4 |IGLOO2 UART RXD
|4 |M2GL_RSVD3 |In/Out |VDD_1V8_M2GL_B4 |Reserve
|===

=== Versal / IGLOO2 デバックインタフェース (CON6)
CON6 は Versal 及び IGLOO2 のデバックインタフェースです。 +
FTDI IC が搭載されており、以下のデバック方法の選択が可能です。

- Versal FPGA JTAG
- Versal APU/RPU Console
- IGLOO2 Safety Processor Telemetry/Telecommand

また CON6 には、双方向高速マルチプレクサを経由して、Versal の 高速シリアル通信信号である GTYP が接続されており、Versal SmartLynq+ HSDP でのデバックも可能です。 

==== Versal FPGA JTAG
Versal の FPGA JTAG インタフェースです。 +
JP13~JP18 に挿入されているジャンパーソケットを『FTDI』シルク側へ切り替えると、FTDI IC の Channel. A に接続され、利用が可能となります。

==== Versal APU/RPU Console
Versal の APU/RPU のコンソールです。 +
JP19~JP24 に挿入されているジャンパーソケットを切り替えることにより、FTDI IC へ  Versal の UART にマッピングされたシリアル通信信号が接続され、利用が可能となります。 +
FTDI IC の Channel. B には Versal の UART0、Channel. C には UART1 が接続されます。 +
またシリアル通信信号には Versal LPD MIO と Versal HDIO の 2種類があり、各々が独立しているため、一方のシリアル通信信号がテストで使用されることになっても、もう一方をコンソールとして利用することが可能です。

[width="100%",cols="1,1,1,1",options="header",]
|===
|FTDI IC Channel |Mapping |I/O |Select JP
.2+|B .2+|UART0 |Versal LPD MIO |JP19~JP21: 1-2 |Versal HDIO |JP19~JP21: 2-3
.2+|C .2+|UART1 |Versal LPD MIO |JP22~JP24: 1-2 |Versal HDIO |JP22~JP24: 2-3
|===

==== IGLOO2 Safety Processor Telemetry/Telecommand
IGLOO2 の UART を利用し、OBC からの Telemetry 信号によるモニタ、または OBC への Telecommand 信号によるモード変更が可能です。 +
JP25~JP29 に挿入されているジャンパーソケットを『FTDI』シルク側へ切り替えると、FTDI IC の Channel. D に接続され、利用が可能となります。

==== Versal SmartLynq+ HSDP
Versal の HSDP (High-Speed Debug Port) を使用し、AMD社製 SmartLynq+ モジュールを介して高速デバックおよびトレースが可能です。 +
JP34 へジャンパーソケットを挿入することで利用が可能となります。

=== Versal Reserve インタフェース (CON7)
CON7 には Versal PMC MIO 1 が接続されています。 +
CON7 に繋がる MIO は、SD カードインタフェースとの間にレベルシフタを設ける場合、その通信方向を制御する目的で使用されます。 +
Dev Board では、双方向通信が可能なレベルシフタを採用しており、本機能は不要となるため Reserve としています。

[width="100%",cols="1,2,1,1,2",options="header",]
|===
|ピン番号 |ピン名称 |I/O |電源グループ |説明
|1 |PMC_MIO46_SD0_DIRC |Output |VDD_1V8_PMC |Versal (PMC_501_MIO46) へ接続
|2 |PMC_MIO47_SD0_DIR0 |Output |VDD_1V8_PMC |Versal (PMC_501_MIO47) へ接続
|3 |PMC_MIO48_SD0_DIR1 |Output |VDD_1V8_PMC |Versal (PMC_501_MIO48) へ接続
|4 |NC |- |- |-
|===

=== microSD カードインタフェース (CON8)
CON8 は microSD カードを挿入できるインタフェースです。 +
開発の初期では、起動するためのソフトウェアを OBC 上の Flash メモリや eMMC ではなく、microSD カードに書き込んで使用することを想定しています。

=== USB2.0 インタフェース (CON9)
CON9 は OBC を USB2.0 のホストとして利用可能なインタフェースです。 +
CON9 から供給される電源である VBUS には、Dev Board の主電源から生成され、Load Switch を経由した +5V が使用されます。 +
VBUS は USB2.0 に準拠しています。

=== Gigabit Ethernet インタフェース (CON10)
CON10 は RJ45 型ジャックの Gigabit Ethernet インタフェースです。 +
Versal の APU へ Linux OS をポーティングすることで、OBC へのリモートログインが可能となります。 +
接続のリンクが確立した場合、CON10 に搭載されている緑色の LED が点灯します。 +
また通信中は、同じく CON10 に搭載されている黄色の LED が点滅します。 +
CON10 を使用する場合、Versal LPD MIO の電源ドメインが 1.8V 以上となるように JP38~JP41 を選択してください。

=== FMC モジュール接続用インタフェース (CON11)
CON11 は、Versal PL または IGLOO2 の高速シリアル通信信号を評価する目的で、市販の FMC モジュールを接続することが可能なインタフェースです。 +
接続を想定している FMC モジュールを以下に示します。

- iWave 社製 PCIe Gen3 x8 FMC モジュール (iW-FMC-PCIe-I2)
- opsero 社製 M.2 M-key Stack FMC (OP073)
- opsero 社製 RPi Camera FMC (OP068)
- AMD 社製 FMC XM105 Debug Card (HW-FMC-XM105-G)

搭載コネクタ：ASP-134486-01 (Samtec)

=== Versal MIO 拡張インタフェース (CON12)
CON12 は、Versal PMC MIO 0 , Versal PMC MIO 1 , Versal LPD MIO の内、CON1 に接続され、かつ CON8 (microSD) , CON9 (USB2.0) , CON11 (Ethernet) で使用されていない MIO が接続されているインタフェースです。 +
CON12 の Pin 1~8 に接続されている Versal LPD MIO は、ジャンパーソケットにより CON12 以外の回路へ接続が可能となるため注意が必要です。 +
CON12 に接続されている電源 (VDD_B502) は Versal LPD MIO の電源ドメインにもなり、その電圧は JP38~JP41 で選択が可能です。 +
また VDD_B502 には Load Switch が設けられており、Versal の主電源が切断された場合、確実に Versal Bank 502 への電源も切断します。 +
CON12 の Pin 13~14 に接続されている Versal PMC MIO 0 と Versal PMC MIO 1 は、電源ドメインが 1.8V で固定されていることから、レベルシフタ (IC27) を介して VDD_B502 へ電源ドメインを変換し Versal LPD MIO と揃えています。 +
そのため、Pin 13~14 の通信方向に従って JP47~JP48 を切り替える必要があることに注意してください。

[width="100%",cols="1,2,1,1,2",options="header",]
|===
|ピン番号 |ピン名称 |I/O |電源グループ |説明
|1 |LPD_MIO0_UART0_RXD |Input |VDD_B502 |CON1(J25) または JP20 (FTDI IC Channel.B) へ接続
|2 |LPD_MIO1_UART0_TXD |Output |VDD_B502 |CON1(K25) または JP21 (FTDI IC Channel.B) へ接続
|3 |LPD_MIO2_CAN0_RX |Input |VDD_B502 |CON1(J26) または JP44 (CAN Transceiver) へ接続
|4 |LPD_MIO3_CAN0_TX |Output |VDD_B502 |CON1(K26) または JP43 (CAN Transceiver) へ接続
|5 |LPD_MIO4_UART1_TXD |Output |VDD_B502 |CON1(J27) または JP24 (FTDI IC Channel.C) へ接続
|6 |LPD_MIO5_UART1_RXD |Input |VDD_B502 |CON1(K27) または JP23 (FTDI IC Channel.C) へ接続
|7 |LPD_MIO6_I2C0_SCL |Output |VDD_B502 |CON1(J28) または JP36 (CON11に繋がるレベルシフタ) へ接続
|8 |LPD_MIO7_I2C0_SDA |In/Out |VDD_B502 |CON1(K28) または JP37 (CON11に繋がるレベルシフタ) へ接続
|9 |LPD_MIO8 |In/Out |VDD_B502 |CON1(J29) へ接続
|10 |LPD_MIO9 |In/Out |VDD_B502 |CON1(K29) へ接続
|11 |LPD_MIO10 |In/Out |VDD_B502 |CON1(J30) へ接続
|12 |LPD_MIO11 |In/Out |VDD_B502 |CON1(K30) へ接続
|13 |PMC_MIO12_3V3 |In/Out |VDD_B502 |IC27 を経由して CON1(J33) へ接続
|14 |PMC_MIO37_3V3 |In/Out |VDD_B502 |IC27 を経由して CON1(H33) へ接続
|15 |GND |Power |VDD_B502 |電源 (GND)
|16 |GND |Power |VDD_B502 |電源 (GND)
|17 |VDD_B502 |Power |VDD_B502 |電源 (VDD_B502)
|18 |VDD_B502 |Power |VDD_B502 |電源 (VDD_B502)
|19 |VDD_B502 |Power |VDD_B502 |電源 (VDD_B502)
|20 |VDD_B502 |Power |VDD_B502 |電源 (VDD_B502)
|===

=== CON19 信号線観測用インタフェース (CON13)
CON13 は、CON19 に接続したデバイスとの通信信号をプローブで観測するためのインタフェースです。 +
CON13 のピンアサインは、下表のように CON19 と同じピンアサインとなっています。 +
信号線の詳細は CON19 の仕様を参照してください。

[width="50%",cols="1,1,1",options="header",]
|===
|CON13 +
ピン番号 |ピン名称 |CON19 +
ピン番号
|1 |CAN_CANL |1
|2 |CAN_CANH |2
|3 |GND |3
|===

=== Versal HDIO 拡張インタフェース (CON14)
CON14 は Versal HDIO が接続されたインタフェースです。 +
NC ピンを挟んで 12ピンずつの 3 Block に分かれており、それぞれの Block の列が PMOD のピン配列に対応しています。 +
CON14 へ複数の PMOD を挿入した場合、PMOD 同士が互いに干渉しないよう NC ピンが挟まれています。 +
CON14 に接続されている電源 (VDD_B302) は Versal HDIO の電源ドメインにもなり、その電圧は JP49~JP52 で選択が可能です。 +
VDD_B302 には Load Switch が設けられており、Versal の主電源が切断された場合、確実に Versal Bank 302 への電源も切断します。

- Block 1

[width="100%",cols="1,2,1,1,2",options="header",]
|===
|ピン番号 |ピン名称 |I/O |電源グループ |説明
|1 |HDIO_302_L0P |In/Out |VDD_B302 |CON1(A22) へ接続
|3 |HDIO_302_L0N |In/Out |VDD_B302 |CON1(B22) へ接続
|5 |HDIO_302_L2P |In/Out |VDD_B302 |CON1(A26) へ接続
|7 |HDIO_302_L2N |In/Out |VDD_B302 |CON1(B26) へ接続
|9 |GND |Power |VDD_B302 |電源 (GND)
|11 |VDD_B302 |Power |VDD_B302 |電源 (VDD_B302)
|===

[width="100%",cols="1,2,1,1,2",options="header",]
|===
|ピン番号 |ピン名称 |I/O |電源グループ |説明
|2 |HDIO_302_L1P |In/Out |VDD_B302 |CON1(A24) へ接続
|4 |HDIO_302_L1N |In/Out |VDD_B302 |CON1(B24) へ接続
|6 |HDIO_302_L3P |In/Out |VDD_B302 |CON1(B23) へ接続
|8 |HDIO_302_L3N |In/Out |VDD_B302 |CON1(C23) へ接続
|10 |GND |Power |VDD_B302 |電源 (GND)
|12 |VDD_B302 |Power |VDD_B302 |電源 (VDD_B302)
|===

- Block 2

[width="100%",cols="1,2,1,1,2",options="header",]
|===
|ピン番号 |ピン名称 |I/O |電源グループ |説明
|19 |HDIO_302_L4P |In/Out |VDD_B302 |CON1(B25) へ接続
|21 |HDIO_302_L4N |In/Out |VDD_B302 |CON1(C25) へ接続
|23 |HDIO_302_L6P_HDGC |In/Out |VDD_B302 |CON1(D24) へ接続
|25 |HDIO_302_L6N_HDGC |In/Out |VDD_B302 |CON1(E24) へ接続
|27 |GND |Power |VDD_B302 |電源 (GND)
|29 |VDD_B302 |Power |VDD_B302 |電源 (VDD_B302)
|===

[width="100%",cols="1,2,1,1,2",options="header",]
|===
|ピン番号 |ピン名称 |I/O |電源グループ |説明
|20 |HDIO_302_L5P_HDGC |In/Out |VDD_B302 |CON1(D22) へ接続
|22 |HDIO_302_L5N_HDGC |In/Out |VDD_B302 |CON1(E22) へ接続
|24 |HDIO_302_L7P |In/Out |VDD_B302 |CON1(D26) へ接続
|26 |HDIO_302_L7N |In/Out |VDD_B302 |CON1(E26) へ接続
|28 |GND |Power |VDD_B302 |電源 (GND)
|30 |VDD_B302 |Power |VDD_B302 |電源 (VDD_B302)
|===

- Block 3

[width="100%",cols="1,2,1,1,2",options="header",]
|===
|ピン番号 |ピン名称 |I/O |電源グループ |説明
|37 |HDIO_302_L8P_UART0_RXD |Input |VDD_B302 |CON1(E21) へ接続
|39 |HDIO_302_L8N_UART0_TXD |Output |VDD_B302 |CON1(F21) へ接続
|41 |HDIO_302_L10P_UART1_RXD |Input |VDD_B302 |CON1(E25) へ接続
|43 |HDIO_302_L10N_UART1_TXD |Output |VDD_B302 |CON1(F25) へ接続
|45 |GND |Power |VDD_B302 |電源 (GND)
|47 |VDD_B302 |Power |VDD_B302 |電源 (VDD_B302)
|===

[width="100%",cols="1,2,1,1,2",options="header",]
|===
|ピン番号 |ピン名称 |I/O |電源グループ |説明
|38 |HDIO_302_L9P |In/Out |VDD_B302 |CON1(E23) へ接続
|40 |HDIO_302_L9N |In/Out |VDD_B302 |CON1(F23) へ接続
|42 |NC |- |- |-
|44 |NC |- |- |-
|46 |GND |Power |VDD_B302 |電源 (GND)
|48 |VDD_B302 |Power |VDD_B302 |電源 (VDD_B302)
|===
NOTE: 表に含まれていないピンは全て NC

=== IGLOO2 MSIO (Bank 5) 拡張インタフェース (CON15)
CON15 は IGLOO2 MSIO (Bank 5) が接続されたインタフェースです。 +
CON14 と同様に 12ピンずつの 3 Block に分かれており、それぞれの Block の列が PMOD のピン配列に対応しています。 +
CON14 と同様、複数の PMOD を挿入した場合、PMOD 同士が互いに干渉しないよう Block を離していますが、 MSIO の本数が多いことから、CON14 では NC ピンであった Block の間にも MSIO を接続しています。 +
CON15 に接続されている電源 (VDD_M2GL_B5) は IGLOO2 MSIO (Bank 5) の電源ドメインにもなり、その電圧は JP53~JP56 で選択が可能です。 +
ただし、IGLOO2 の主電源は Dev Board の主電源に連動していることから、VDD_B502 や VDD_B302 とは異なり、VDD_M2GL_B5 には Load Switch を設けていません。

- Block 1

[width="100%",cols="1,2,1,1,2",options="header",]
|===
|ピン番号 |ピン名称 |I/O |電源グループ |説明
|1 |M2GL_MSIO196PB5 |In/Out |VDD_M2GL_B5 |CON1(J5) へ接続
|3 |M2GL_MSIO196NB5 |In/Out |VDD_M2GL_B5 |CON1(K5) へ接続
|5 |M2GL_MSIO198PB5 |In/Out |VDD_M2GL_B5 |CON1(J7) へ接続
|7 |M2GL_MSIO198NB5 |In/Out |VDD_M2GL_B5 |CON1(K7) へ接続
|9 |GND |Power |VDD_M2GL_B5 |電源 (GND)
|11 |VDD_M2GL_B5 |Power |VDD_M2GL_B5 |電源 (VDD_M2GL_B5)
|===

[width="100%",cols="1,2,1,1,2",options="header",]
|===
|ピン番号 |ピン名称 |I/O |電源グループ |説明
|2 |M2GL_MSIO197PB5 |In/Out |VDD_M2GL_B5 |CON1(J6) へ接続
|4 |M2GL_MSIO197NB5 |In/Out |VDD_M2GL_B5 |CON1(K6) へ接続
|6 |M2GL_MSIO201PB5 |In/Out |VDD_M2GL_B5 |CON1(J8) へ接続
|8 |M2GL_MSIO201NB5 |In/Out |VDD_M2GL_B5 |CON1(K8) へ接続
|10 |GND |Power |VDD_M2GL_B5 |電源 (GND)
|12 |VDD_M2GL_B5 |Power |VDD_M2GL_B5 |電源 (VDD_M2GL_B5)
|===

- Block 1~2

[width="100%",cols="1,2,1,1,2",options="header",]
|===
|ピン番号 |ピン名称 |I/O |電源グループ |説明
|13 |M2GL_MSIO203PB5 |In/Out |VDD_M2GL_B5 |CON1(J9) へ接続
|15 |M2GL_MSIO203NB5 |In/Out |VDD_M2GL_B5 |CON1(K9) へ接続
|17 |GND |Power |VDD_M2GL_B5 |電源 (GND)
|===

[width="100%",cols="1,2,1,1,2",options="header",]
|===
|ピン番号 |ピン名称 |I/O |電源グループ |説明
|14 |M2GL_MSIO204PB5 |In/Out |VDD_M2GL_B5 |CON1(J10) へ接続
|16 |M2GL_MSIO204NB5 |In/Out |VDD_M2GL_B5 |CON1(K10) へ接続
|18 |GND |Power |VDD_M2GL_B5 |電源 (GND)
|===

- Block 2

[width="100%",cols="1,2,1,1,2",options="header",]
|===
|ピン番号 |ピン名称 |I/O |電源グループ |説明
|19 |M2GL_MSIO208PB5 |In/Out |VDD_M2GL_B5 |CON1(G5) へ接続
|21 |M2GL_MSIO208NB5 |In/Out |VDD_M2GL_B5 |CON1(H5) へ接続
|23 |M2GL_MSIO212PB5 |In/Out |VDD_M2GL_B5 |CON1(G7) へ接続
|25 |M2GL_MSIO212NB5 |In/Out |VDD_M2GL_B5 |CON1(H7) へ接続
|27 |GND |Power |VDD_M2GL_B5 |電源 (GND)
|29 |VDD_M2GL_B5 |Power |VDD_M2GL_B5 |電源 (VDD_M2GL_B5)
|===

[width="100%",cols="1,2,1,1,2",options="header",]
|===
|ピン番号 |ピン名称 |I/O |電源グループ |説明
|20 |M2GL_MSIO209PB5 |In/Out |VDD_M2GL_B5 |CON1(G6) へ接続
|22 |M2GL_MSIO209NB5 |In/Out |VDD_M2GL_B5 |CON1(H6) へ接続
|24 |M2GL_MSIO213PB5 |In/Out |VDD_M2GL_B5 |CON1(G8) へ接続
|26 |M2GL_MSIO213NB5 |In/Out |VDD_M2GL_B5 |CON1(H8) へ接続
|28 |GND |Power |VDD_M2GL_B5 |電源 (GND)
|30 |VDD_M2GL_B5 |Power |VDD_M2GL_B5 |電源 (VDD_M2GL_B5)
|===

- Block 2~3

[width="100%",cols="1,2,1,1,2",options="header",]
|===
|ピン番号 |ピン名称 |I/O |電源グループ |説明
|31 |M2GL_MSIO216PB5 |In/Out |VDD_M2GL_B5 |CON1(G9) へ接続
|33 |M2GL_MSIO216NB5 |In/Out |VDD_M2GL_B5 |CON1(H9) へ接続
|35 |GND |Power |VDD_M2GL_B5 |電源 (GND)
|===

[width="100%",cols="1,2,1,1,2",options="header",]
|===
|ピン番号 |ピン名称 |I/O |電源グループ |説明
|32 |M2GL_MSIO221PB5 |In/Out |VDD_M2GL_B5 |CON1(G10) へ接続
|34 |M2GL_MSIO221NB5 |In/Out |VDD_M2GL_B5 |CON1(H10) へ接続
|36 |GND |Power |VDD_M2GL_B5 |電源 (GND)
|===

- Block 3

[width="100%",cols="1,2,1,1,2",options="header",]
|===
|ピン番号 |ピン名称 |I/O |電源グループ |説明
|37 |M2GL_MSIO222PB5 |In/Out |VDD_M2GL_B5 |CON1(E5) へ接続
|39 |M2GL_MSIO222NB5 |In/Out |VDD_M2GL_B5 |CON1(F5) へ接続
|41 |M2GL_MSIO228PB5 |In/Out |VDD_M2GL_B5 |CON1(E7) へ接続
|43 |M2GL_MSIO228NB5 |In/Out |VDD_M2GL_B5 |CON1(F8) へ接続
|45 |GND |Power |VDD_M2GL_B5 |電源 (GND)
|47 |VDD_M2GL_B5 |Power |VDD_M2GL_B5 |電源 (VDD_M2GL_B5)
|===

[width="100%",cols="1,2,1,1,2",options="header",]
|===
|ピン番号 |ピン名称 |I/O |電源グループ |説明
|38 |M2GL_MSIO226PB5 |In/Out |VDD_M2GL_B5 |CON1(F6) へ接続
|40 |M2GL_MSIO226NB5 |In/Out |VDD_M2GL_B5 |CON1(F7) へ接続
|42 |M2GL_MSIO230PB5 |In/Out |VDD_M2GL_B5 |CON1(E9) へ接続
|44 |M2GL_MSIO230NB5 |In/Out |VDD_M2GL_B5 |CON1(F9) へ接続
|46 |GND |Power |VDD_M2GL_B5 |電源 (GND)
|48 |VDD_M2GL_B5 |Power |VDD_M2GL_B5 |電源 (VDD_M2GL_B5)
|===

=== Dev Board 主電源供給インタフェース (CON16)
CON16 は Dev Board へ主電源を供給するためのインタフェースです。 +
DC ジャックを採用しており、対応する AC アダプターのプラグ仕様は、外径 5.5mm、内径 2.1mm のセンタープラスです。 +
CON16 を使用する場合、CON20 へ電圧を印加しないでください。

搭載コネクタ：PJ-002AH (Same Sky)

=== USER LED 制御インタフェース (CON17)
CON17 はユーザーが任意で使用が可能な LED (USER LED) を制御できるインタフェースです。 +
1つのピンに対して1つの LED が制御可能です。 +
ピンに対し High レベルの信号を入力すると LED が点灯し、Low レベルを入力すると消灯します。 +
各ピンに対して 6V 以上の電圧を印加しないよう注意してください。

[width="80%",cols="1,1,1,1",options="header",]
|===
|ピン番号 |ピン名称 |I/O |説明
|1 |ULED1 |Input |LED6 の制御が可能
|2 |ULED2 |Input |LED7 の制御が可能
|3 |ULED3 |Input |LED8 の制御が可能
|4 |ULED4 |Input |LED9 の制御が可能
|===

=== IGLOO2 RS422/485 インタフェース (CON18)
CON18 は、IGLOO2 の UART と RS-422/RS-485 規格で通信が可能なインタフェースです。 +
JP25~JP29 に挿入されているジャンパーソケットを『RS422』シルク側へ切り替え、CON18 へ RS-422/RS-485 の規格に対応したデバイスを接続することで通信が可能となります。 +
JP30~JP33 により、半二重または全二重の通信方式への切り替えや、終端抵抗の切り替えが可能となります。 +
また CON3 で通信信号の観測が可能です。

[width="100%",cols="1,1,1,1,4",options="header",]
|===
|ピン番号 |ピン名称 |I/O |電源グループ |説明
|1 |RS422_TXP |Output |VDD_3V3_C |IGLOO2 の UART_TX が差動変換されたプラス側の信号
|2 |RS422_TXM |Output |VDD_3V3_C |IGLOO2 の UART_TX が差動変換されたマイナス側の信号
|3 |RS422_RXP |Input |VDD_3V3_C |IGLOO2 の UART_RX が差動変換されたプラス側の信号
|4 |RS422_RXM |Input |VDD_3V3_C |IGLOO2 の UART_RX が差動変換されたマイナス側の信号
|5 |GND |Power |VDD_3V3_C |電源 (GND)
|===

=== CAN インタフェース (CON19)
CON19 は CAN 通信のインタフェースです。 +
CAN0 にマッピング可能な Versal LPD MIO が、CAN Transceiver により差動信号へ変換され CON19 へ接続されています。 +
JP42~JP44 へジャンパーソケットを挿入することで利用が可能ですが、ここで使用している MIO は CON12 にも分岐しているため注意が必要です。 +
また、JP45~JP46 へジャンパーソケットを挿入することで、CAN 通信の終端が可能です。 +
CON19 を使用する場合、Versal LPD MIO の電源ドメインが 1.8V 以上となるように JP38~JP41 を選択してください。

[width="100%",cols="1,1,1,1,1",options="header",]
|===
|ピン番号 |ピン名称 |I/O |電源グループ |説明
|1 |CAN_CANL |In/Out |- |CAN L 信号
|2 |CAN_CANH |In/Out |- |CAN H 信号
|3 |GND |Power |- |電源 (GND)
|===

=== Dev Board 主電源供給インタフェース (CON20)
CON20 は、CON16 と同じく Dev Board の主電源を供給するためのインタフェースです。 +
5mm ピッチの 2ピンの端子台を採用しています。 +
CON20 を使用する場合、CON16 へ電圧を印加しないでください。

[width="100%",cols="1,1,1,1,1",options="header",]
|===
|ピン番号 |ピン名称 |I/O |電源グループ |説明
|1 |VIN |Power |VIN |電源 (+12V)
|2 |GND |Power |VIN |電源 (GND)
|===

=== Versal 起動モード制御スイッチ (SW1)
SW1 は Versal の起動モードを制御するための DIP スイッチです。 

[width="100%",cols="1,1,1,1,1",options="header",]
|===
|モード |ピン番号 |ピン名称 |I/O |電源グループ
|MODE 0 |1, 8 |XCVE_MODE0 |Input |電源 (VDD_5V0_CM)
|MODE 1 |2, 7 |XCVE_MODE1 |Input |電源 (VDD_5V0_CM)
|MODE 2 |3, 6 |XCVE_MODE2 |Input |電源 (VDD_5V0_CM)
|MODE 3 |4, 5 |XCVE_MODE3 |Input |電源 (VDD_5V0_CM)
|===

スイッチの設定により、以下のように起動モードを設定することが可能です。

image::SW1.svg[SW1.svg]

[width="100%",cols="1,1,1,1,2",options="header",]
|===
|MODE 0 |MODE 1 |MODE 2 |MODE 3 |起動モード
|ON |ON |ON |ON |JTAG
|ON |OFF |ON |ON |QSPI32 (NOR Flash)
|OFF |OFF |ON |ON |SD v3.0 (microSDカード)
4+|その他の設定 |禁止
|===

=== Versal POR 制御スイッチ (SW2)
SW2 は Versal の External POR (Power On Reset) の制御が可能なタクトスイッチです。 +
工場出荷時にのみ使用することを想定しているため使用しないでください。

=== IGLOO2 POR 制御スイッチ (SW3)
SW3 は IGLOO2 の POR (Power On Reset) の制御が可能なタクトスイッチです。 +
工場出荷時にのみ使用することを想定しているため使用しないでください。

=== Dev Board 主電源切り替えスイッチ (SW4)
SW4 は Dev Board の主電源の ON/OFF の切り替えが可能なスライドスイッチです。 +
『ON』シルク側へトグルを移動させることで主電源が回路へ供給され、『OFF』シルク側へ移動させることで供給を切断することが可能です。

image::SW4.svg[SW4.svg]

=== Versal 起動状態インジケータ (LED1)
LED1 は Versal の起動状態を示す黄緑色のインジケータです。 +
POR (Power On Reset) により消灯し、PMC Start-up Flowchart に従って起動が正常に完了した場合に点灯します。

=== Versal エラー状態インジケータ (LED2)
LED2 は Versal のエラーの発生状態を示す赤色のインジケータです。 +
正常に動作している場合は消灯し、エラーが発生した場合に点灯します。

=== 1Gbps Ethernet リンク状態インジケータ (LED3)
LED3 は CON10 での通信状態を示すインジケータです。 +
1Gbps での Ethernet 通信が確立した場合に点灯します。 +
10Mbps, 100Mbps の場合は消灯します。

=== FMC モジュール電源供給インジケータ (LED4)
LED4 は FMC モジュールへの電源供給の状態を示す黄緑色のインジケータです。 +
Dev Board から OBC へ電源が供給され、Versal の起動が完了し、FMC モジュールへの電源が正常に供給された場合、点灯します。

=== Dev Board 主電源供給インジケータ (LED5)
LED5 は主電源の供給状態を示す黄緑色のインジケータです。 +
CON16 または CON20 から主電源が正常に供給された場合に点灯します。 +
SW4 のトグルが『OFF』シルク側へ移動された場合、消灯します。 +
また主電源に約 5A 以上の電流が流れた場合も消灯します。

=== USER LED (LED6~LED9)
LED6~LED9 はユーザーが任意で使用が可能な黄緑色の LED です。 +
詳細は CON17 を参照してください。

== インタフェースレイアウト (JP)

image::Interface_Layout2.svg[Interface_Layout2.svg]

[width="100%",cols="1,3,3",options="header",]
|===
|部品番号 |インターフェース名称 |形状
|JP13~JP18 |Versal FPGA JTAG セレクタ |ピンヘッダ 18ピン (6ピン x 3列 / 2.54mm ピッチ)
|JP19~JP21 |Versal APU/RPU Console (UART0) セレクタ |ピンヘッダ 9ピン (3ピン x 3列 / 2.54mm ピッチ)
|JP22~JP24 |Versal APU/RPU Console (UART1) セレクタ |ピンヘッダ 9ピン (3ピン x 3列 / 2.54mm ピッチ)
|JP25~JP29 |IGLOO2 Telemetry/Telecommand セレクタ |ピンヘッダ 15ピン (5ピン x 3列 / 2.54mm ピッチ)
|JP30~JP33 |RS-422/RS-485 通信設定セレクタ |ピンヘッダ 8ピン (4ピン x 2列 / 2.54mm ピッチ)
|JP34 |Versal GTYP セレクタ |ピンヘッダ 2ピン (2.54mm ピッチ)
|JP35~JP37 |Versal I2C セレクタ |ピンヘッダ 6ピン (3ピン x 2列 / 2.54mm ピッチ)
|JP38~JP41 |Versal Bank 502 電源セレクタ |ピンヘッダ 8ピン (4ピン x 2列 / 2.54mm ピッチ)
|JP42~JP44 |Versal CAN セレクタ |ピンヘッダ 6ピン (3ピン x 2列 / 2.54mm ピッチ)
|JP45~JP46 |Versal CAN 終端セレクタ |ピンヘッダ 4ピン (2ピン x 2列 / 2.54mm ピッチ)
|JP47~JP48 |Versal MIO 通信方向セレクタ |ピンヘッダ 4ピン (2ピン x 2列 / 2.54mm ピッチ)
|JP49~JP52 |Versal Bank 302 電源セレクタ |ピンヘッダ 8ピン (4ピン x 2列 / 2.54mm ピッチ)
|JP53~JP56 |IGLOO2 Bank 5 電源セレクタ |ピンヘッダ 8ピン (4ピン x 2列 / 2.54mm ピッチ)
|JP57~JP58 |FMC モジュール I/O電圧セレクタ |ピンヘッダ 4ピン (2ピン x 2列 / 2.54mm ピッチ)
|===

=== Versal JTAG セレクタ (JP13~JP18)
JP13~JP18 は Versal FPGA JTAG インタフェースの接続先を切り替えることが可能なインタフェースです。 +
ジャンパーソケットを Pin 1-2 間に挿入すると、FTDI IC の Channel. A へ接続され、CON6 (USB Type.C) からアクセスが可能となります。 +
また Pin 2-3 間に挿入することで、レベルシフタ (IC22, IC23) を介して、CON11 に接続した FMC モジュールと通信が可能となります。 +
ジャンパーソケットがデフォルトで Pin 1-2 間へ挿入されており、2 x 6 サイズであるため、一度に6ピンの切り替えが可能です。

image::JP13.svg[JP13.svg]

[width="100%",cols="1,1,1,1,1",]
|===
.2+|REF 3+|ピン番号 .2+|I/O 
|1 |2 |3
|JP13 |FTDI_JTAG_TMS |XCVE_JTAG_TMS |FMC_JTAG_TMS |Input
|JP14 |FTDI_JTAG_TDI |XCVE_JTAG_TDI |FMC_JTAG_TDI |Input
|JP15 |FTDI_JTAG_TDO |XCVE_JTAG_TDO |FMC_JTAG_TDO |Output
|JP16 |FTDI_JTAG_TCK |XCVE_JTAG_TCK |FMC_JTAG_TCK |Input
|JP17 |GND |GND |GND |Power
|JP18 |VDD_FTDI_JTAG |VDD_1V8_B503 |VDD_FMC_JTAG |Power
|===

=== Versal APU/RPU Console (UART0) セレクタ (JP19~JP21)
JP19~JP21 は、FTDI IC の Channel. B への接続先の切り替えが可能なインタフェースです。 +
ジャンパーソケットを Pin 1-2 間へ挿入すると、Versal LPD MIO にマッピングされた UART0 と接続されます。 +
また Pin 2-3 間へ挿入することで、Versal HDIO にマッピングされた UART0 (EMIO)へ接続されます。 +
接続後は CON6 (USB Type.C) からアクセスが可能となります。 +
ジャンパーソケットがデフォルトで Pin 1-2 間へ挿入されており、2 x 3 サイズであるため、一度に3ピンの切り替えが可能です。

image::JP19.svg[JP19.svg]

[width="100%",cols="1,2,2,2",options="header",]
|===
|ピン名称 3+|ピン番号
|REF |1 |2 |3
|JP19 |VDD_B502 |VDD_FTDI_BDBUS |VDD_B302
|JP20 |LPD_MIO0_UART0_RXD |FTDI_BDBUS_TXD |HDIO_302_L8P_UART0_RXD
|JP21 |LPD_MIO1_UART0_TXD |FTDI_BDBUS_RXD |HDIO_302_L8N_UART0_TXD
|===
NOTE: VDD : Power / RXD : Input / TXD : Output

=== Versal APU/RPU Console (UART1) セレクタ (JP22~JP24)
JP22~JP24 は、FTDI IC の Channel. C への接続先の切り替えが可能なインタフェースです。 +
ジャンパーソケットを Pin 1-2 間へ挿入すると、Versal LPD MIO にマッピングされた UART1 と接続されます。 +
また Pin 2-3 間へ挿入することで、Versal HDIO にマッピングされた UART1 (EMIO)へ接続されます。 +
接続後はどちらも CON6 (USB Type.C) からアクセスが可能となります。 +
ジャンパーソケットがデフォルトで Pin 1-2 間へ挿入されており、2 x 3 サイズであるため、一度に3ピンの切り替えが可能です。

image::JP22.svg[JP22.svg]

[width="100%",cols="1,2,2,2",options="header",]
|===
|ピン名称 3+|ピン番号
|REF |1 |2 |3
|JP19 |VDD_B502 |VDD_FTDI_CDBUS |VDD_B302
|JP20 |LPD_MIO5_UART1_RXD |FTDI_CDBUS_TXD |HDIO_302_L10P_UART1_RXD
|JP21 |LPD_MIO4_UART1_TXD |FTDI_CDBUS_RXD |HDIO_302_L10N_UART1_TXD
|===
NOTE: VDD : Power / RXD : Input / TXD: Output

=== IGLOO2 Telemetry/Telecommand セレクタ (JP25~JP29)
JP25~JP29 は、IGLOO2 の UART の接続先の切り替えが可能なインタフェースです。 +
IGLOO2 の UART にアクセスすることで、OBC からの Telemetry 信号によるモニタや、OBC への Telecommand 信号によるモード変更が可能となります。 +
ジャンパーソケットを Pin 1-2 間へ挿入すると、FTDI IC の Channel. D と接続され、CON6 (USB Type.C) からアクセスが可能となります。 +
また Pin 2-3 間へ挿入することで、CON18 から RS-422/RS-485 の規格に対応したデバイスでアクセスが可能となります。 +
ジャンパーソケットがデフォルトで Pin 1-2 間へ挿入されており、2 x 5 サイズであるため、一度に5ピンの切り替えが可能です。

image::JP25.svg[JP25.svg]

[width="100%",cols="1,2,2,2",options="header",]
|===
|ピン名称 3+|ピン番号
|REF |1 |2 |3
|JP25 |VDD_FTDI_DDBUS |VDD_1V8_M |VDD_RS422
|JP26 |FTDI_DDBUS_TXD |M2GL_UART_RX |RS422_R
|JP27 |FTDI_DDBUS_RXD |M2GL_UART_TX |RS422_D
|JP28 |NC |M2GL_UART_DE |RS422_DE
|JP29 |NC |M2GL_UART_RE_B |RS422_RE_B
|===
NOTE: VDD : Power / RXD, RX, D : Input / TXD, TX, R : Output

=== RS-422/RS-485 通信設定セレクタ (JP30~JP33)
JP30~JP33 は、CON18 に RS-422/RS-485 の規格に対応したデバイスを接続して OBC と通信する際に設定するインタフェースです。 +
ジャンパーソケットは下表を参考に、対応するデバイスに合わせた設定にしてください。 +
デフォルトは JP31 にジャンパーソケットが挿入されています。

image::JP30.svg[JP30.svg]

[width="100%",cols="1,7",options="header",]
|===
|REF |説明
|JP30 |Driver の終端抵抗の有無を選択できるインタフェースです。 +
Driver を終端する場合はジャンパーソケットを挿入してください。
|JP31 |Receiver の終端抵抗の有無を選択できるインタフェースです。 +
Receiver を終端する場合はジャンパーソケットを挿入してください。
|JP32 |Transceiver の Y 端子と A 端子を短絡可能なインタフェースです。 +
半二重で通信する場合、ジャンパーソケットを挿入してください。
|JP33 |Transceiver の Z 端子と B 端子を短絡可能なインタフェースです。 +
半二重で通信する場合、ジャンパーソケットを挿入してください。
|===
NOTE: 半二重での通信で終端する場合は、JP30 または JP31 のどちらかへジャンパーソケットを挿入してください。

=== Versal GTYP セレクタ (JP34)
JP34 は Versal の高速シリアル通信信号である GTYP の接続先の切り替えが可能なインタフェースです。 +
CON6 (USB Type.C) を利用して SmartLynq+ モジュールによる Versal の高速デバックおよびトレースを行いたい場合は、ジャンパーソケットを挿入してください。 +
上記を行わず、CON11 に接続した FMC モジュールで対象の GTYP を評価を行いたい場合は、ジャンパーソケットを挿入しないでください。

image::JP34.svg[JP34.svg]

=== Versal I2C セレクタ (JP35~JP37)
JP35~JP37 は、I2C0 にマッピングされた Versal LPD MIO を、FMC モジュールで使用したい場合に使用するインタフェースです。 +
FMC モジュールで使用したい場合、ジャンパーソケットを挿入してください。 +
Versal LPD MIO がレベルシフタ (IC24) を介して、CON11 に接続した FMC モジュールへ接続されます。 +
ただし、対象の Versal LPD MIO は CON12 にも分岐しているため注意が必要です。 +
JP35~JP37 へはデフォルトで 2 x 3 サイズのジャンパーソケットが挿入されています。

image::JP35.svg[JP35.svg]

=== Versal Bank 502 電源セレクタ (JP38~JP41)
JP38~JP41 は、Versal LPD MIO の電源ドメインを切り替えることが可能なインタフェースです。 +
デフォルトは JP40 の電源が選択されています。 +
電源の割り当ては下表を参照してください。 +
ここで選択した電圧が CON12 にも供給されます。 +
なお、CON10 (Ethernet) または CON19 (CAN) を使用する場合、1.8V 以上の電圧を選択してください。

image::JP38.svg[JP38.svg]

[width="100%",cols="1,1,3",options="header",]
|===
|REF |ピン名称 |説明
|JP38 |VDD_3V3_C |Dev Board の主電源から生成される +3.3V 電源
|JP39 |VDD_3V3_M |OBC で生成された +3.3V 電源
|JP40 |VDD_1V8_M |OBC で生成された +1.8V 電源。約 0.5A の電流制限あり。
|JP41 |VDD_1V2_M |OBC で生成された +1.2V 電源。約 0.5A の電流制限あり。
|===

=== Versal CAN セレクタ (JP42~JP44)
JP42~JP44 は、CON19 を利用して Versal と CAN 通信がしたい場合に使用するインタフェースです。 +
CON19 に CAN 対応デバイスを接続して Versal と通信したい場合は、ジャンパーソケットを挿入してください。 +
ただし、ここで使用している Versal LPD MIO は CON12 にも分岐しているため注意が必要です。 +
JP42~JP44 へはデフォルトで 2 x 3 サイズのジャンパーソケットが挿入されています。

image::JP42.svg[JP42.svg]

=== Versal CAN 終端セレクタ (JP45~JP46)
JP45~JP46 は CAN の終端抵抗の有無を選択できるインタフェースです。 +
CAN の終端抵抗が必要な場合は、ジャンパーソケットを挿入してください。 +
デフォルトは 1 x 2 サイズのジャンパーソケット 2個が挿入されています。

image::JP45.svg[JP45.svg]

=== Versal MIO 通信方向セレクタ (JP47~JP48)
JP47~JP48 は、CON12 に接続されている Versal PMC MIO 0 および Versal PMC MIO 1 の通信方向に合わせて設定するインタフェースです。 +
対象の MIO は CON12 までの間にレベルシフタ (IC27) を介しているため、MIO の通信方向に従ってレベルシフタの通信方向を設定する必要があります。 +
下表に、ジャンパーソケットを挿入または抜去した場合の、CON12 から見た入出力の方向を示します。 +
デフォルトはジャンパーソケットが挿入されていません。 +

image::JP47.svg[JP47.svg]

[width="100%",cols="1,2,2,2",options="header",]
|===
|REF |Target MIO |Jumper Socket |CON12 Pin Direction
.2+|JP47 .2+|PMC_MIO12_3V3 |挿入 |Output
|抜去 |Input
.2+|JP48 .2+|PMC_MIO37_3V3 |挿入 |Output
|抜去 |Input
|===

=== Versal Bank 302 電源セレクタ (JP49~JP52)
JP49~JP52 は、Versal HDIO の電源ドメインを切り替えることが可能なインタフェースです。 +
デフォルトは JP49 の電源が選択されています。 +
電源の割り当ては下表を参照してください。 +
ここで選択した電圧が CON14 にも供給されます。

image::JP49.svg[JP49.svg]

[width="100%",cols="1,1,4",options="header",]
|===
|REF |ピン名称 |説明
|JP49 |VDD_3V3_C |Dev Board の主電源から生成される +3.3V 電源
|JP50 |VDD_3V3_M |OBC で生成された +3.3V 電源
|JP51 |VDD_1V8_M |OBC で生成された +1.8V 電源。約 0.5A の電流制限あり。
|JP52 |VDD_1V2_M |OBC で生成された +1.2V 電源。約 0.5A の電流制限あり。
|===

=== IGLOO2 Bank 5 電源セレクタ (JP53~JP56)
JP53~JP56 は、IGLOO2 MSIO (Bank 5) の電源ドメインを切り替えることが可能なインタフェースです。 +
デフォルトは JP53 の電源が選択されています。 +
電源の割り当ては下表を参照してください。 +
ここで選択した電圧が CON15 にも供給されます。

image::JP53.svg[JP53.svg]

[width="100%",cols="1,1,4",options="header",]
|===
|REF |ピン名称 |説明
|JP53 |VDD_3V3_C |Dev Board の主電源から生成される +3.3V 電源
|JP54 |VDD_3V3_M |OBC で生成された +3.3V 電源
|JP55 |VDD_1V8_M |OBC で生成された +1.8V 電源。約 0.5A の電流制限あり。
|JP56 |VDD_1V2_M |OBC で生成された +1.2V 電源。約 0.5A の電流制限あり。
|===

=== FMC モジュール I/O電圧セレクタ (JP57~JP58)
JP57~JP58 は、FMC モジュールに接続される Versal XPIO および IGLOO2 MSIO (Bank 8) の電源ドメインを選択できるインタフェースです。 +
CON11 の VADJ 端子へも同様に供給されるため、ここで選択した電源ドメインで通信が可能となります。 +
他の電源セレクタと異なり、Switching Regulator の Feedback 抵抗を変化させることで電圧を変化させているため、JP57 と JP58 の両方にジャンパーソケットを挿入した場合、意図しない電圧となることに注意が必要です。 +
デフォルトは JP58 へジャンパーソケットが挿入されています。

image::JP57.svg[JP57.svg]

[width="50%",cols="1,1",options="header",]
|===
|REF |電源ドメイン
|JP57 |1.2V
|JP58 |1.5V
|===

== Jumper Default List
[width="100%",cols="1,2,1",options="header",]
|===
|REF |Function |Default
.3+|JP13~JP18 |Versal FPGA JTAG .3+|1-2
|1-2 : FTDI |2-3 : FMC
.3+|JP19~JP21 |Versal UART0 .3+|1-2
|1-2 : MIO |2-3 : EMIO
.3+|JP22~JP24 |Versal UART1 .3+|1-2
|1-2 : MIO |2-3 : EMIO
.3+|JP25~JP29 |IGLOO2 UART .3+|1-2
|1-2 : FTDI |2-3 : RS422
.5+|JP30~JP33 |RS422/RS485 TERM .5+|JP31 only
|JP30 : Driver Termination Resistor
|JP31 : Receiver Termination Resistor
|JP32 : Short circuit between Y and A terminals
|JP33 : Short circuit between Z and B terminals
.3+|JP34 |CON6 HSDP EN .3+|ON
|OFF : Disable ( Connect to FMC ) |ON : Enable
.3+|JP35~JP37 |FMC I2C .3+|ON
|OFF : Disable ( Connect only to CON12 ) |ON : Enable ( Connect to FMC )
.5+|JP38~JP41 |Versal VCCO 502 .5+|JP40
|JP38 : VDD_3V3_C |JP39 : VDD_3V3_M |JP40 : VDD_1V8_M |JP41 : VDD_1V2_M
.3+|JP42~JP44 |CAN .3+|ON
|OFF : Disable ( Connect only to CON12 ) |ON : Enable ( Connect to CON19 )
.3+|JP45~JP46 |CAN TERM .3+|ON
|OFF : OPEN Termination |ON : 120ohm Termination
.3+|JP47 |Versal PMC MIO 0 DIR .3+|OFF
|OFF : From CON12 to Versal |ON : From Versal to CON12
.3+|JP48 |Versal PMC MIO 1 DIR .3+|OFF
|OFF : From CON12 to Versal |ON : From Versal to CON12
.5+|JP49~JP52 |Versal VCCO 302 .5+|JP49
|JP49 : VDD_3V3_C |JP50 : VDD_3V3_M |JP51 : VDD_1V8_M |JP52 : VDD_1V2_M
.5+|JP53~JP56 |IGLOO2 VDDI 5 .5+|JP53
|JP53 : VDD_3V3_C |JP54 : VDD_3V3_M |JP55 : VDD_1V8_M |JP56 : VDD_1V2_M
.3+|JP57~JP58 |FMC VADJ ( Versal VCCO 703 / IGLOO2 VDDI 8 ) .3+|JP58
|JP57 : 1.2V |JP58 : 1.5V
|===
NOTE: ON : Insert Jumper / OFF : Remove Jumper